ARCH=arm64
BRANCH=mirror-aosp-android-amlogic-bmeson-4.19
CC=clang
CLANG_TRIPLE=aarch64-linux-gnu-
CROSS_COMPILE=aarch64-linux-android-
DEFCONFIG=meson_defconfig
EXTRA_CMDS=''
KERNEL_DIR=hikey-linaro
POST_DEFCONFIG_CMDS="check_defconfig"
CLANG_PREBUILT_BIN=prebuilts-master/clang/host/linux-x86/clang-r353983c/bin
LINUX_GCC_CROSS_COMPILE_PREBUILTS_BIN=prebuilts/gcc/linux-x86/aarch64/aarch64-linux-android-4.9/bin
LZ4_PREBUILTS_BIN=prebuilts/misc/linux-x86/lz4
FILES="
arch/arm64/boot/dts/amlogic/meson-g12a-sei510.dtb
arch/arm64/boot/dts/amlogic/meson-sm1-sei610.dtb
arch/arm64/boot/Image
arch/arm64/boot/Image.gz
arch/arm64/boot/Image.lz4
vmlinux
System.map
"
EXTRA_CMDS="lz4_compress"
STOP_SHIP_TRACEPRINTK=1


function lz4_compress() {
        ./${LZ4_PREBUILTS_BIN}/lz4c -f ${OUT_DIR}/arch/arm64/boot/Image ${OUT_DIR}/arch/arm64/boot/Image.lz4
}
